<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Midea Dishwasher Matter Demo</title>
    <meta name="weex-viewport" content="750">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">   
</head>
<body>
    <h2>Midea Dishwasher Matter Demo</h2>
    <div>
        <div style="margin-top:20px;">
            <button class="order-button" id="power-on" onclick="powOn();">Power ON</button>
            <button class="order-button" id="power-off" onclick="powOff();">Power OFF</button>
        </div>
        <div style="margin-top:20px;">
            <button class="order-button" id="start" onclick="start();">Start</button>
            <button class="order-button" id="pause" onclick="pause();">Pause</button>
            <button class="order-button" id="cancel" onclick="cancel();">Cancel</button>
        </div>
        <div style="margin-top:20px;">
            <button class="order-button" id="heavy" onclick="heavy();">Heavy</button>
            <button class="order-button" id="normal" onclick="normal();">Normal</button>
            <button class="order-button" id="light" onclick="light();">Light</button>
        </div>
        <div style="margin-top:20px;">
            <button class="order-button" id="GetStatus" onclick="GetStatus();">Get Status</button>
        </div>
        <div style="margin-top:40px;">
            <div id="status" style="font-size: 30px;">Now Dishwasher Status： None</div>
            <div id="response" style="font-size: 30px;">Response： None</div>
        </div>
    </div>
</body>
<script type="text/javascript">
    /* ------------数据协议解析部分-------------Start  Author:liuxp7*/
    function powOn(){   
        /*开机 */
        var tempBtn = document.getElementById("power-on");
        document.getElementById("status").innerHTML = "Now Dishwasher Status：      Power ON"
        document.getElementById("response").innerHTML = "Response：None";
        
        var url = "/cmd";
        var httpRequest = new XMLHttpRequest();
        httpRequest.open('POST', url, true);
        httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded")

        httpRequest.send('~/apps/chip-tool onoff on 1 1');

        httpRequest.ontimeout = function(event){
            document.getElementById("response").innerHTML = "Response：请求超时！";
        }
        //该属性每次变化时会触发
        httpRequest.onreadystatechange = function(){
            //若响应完成且请求成功
            if(httpRequest.readyState === 4 && httpRequest.status === 200){
                document.getElementById("response").innerHTML = "Response：" + httpRequest.responseText;
            }
        }
        setTimeout(function(){


        },1000)
        
    }
    /* ------------数据协议解析部分-------------Start  Author:liuxp7*/
    function powOff(){   
        /*关机 */
        var tempBtn = document.getElementById("power-off");
        document.getElementById("status").innerHTML = "Now Dishwasher Status：      Power OFF"
        document.getElementById("response").innerHTML = "Response：None";
        
        var url = "/cmd";
        var httpRequest = new XMLHttpRequest();
        httpRequest.open('POST', url, true);
        httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded")

        httpRequest.send('~/apps/chip-tool onoff off 1 1');
        httpRequest.onreadystatechange = function(){
            //若响应完成且请求成功
            if(httpRequest.readyState === 4 && httpRequest.status === 200){
                document.getElementById("response").innerHTML = "Response：" + httpRequest.responseText;
            }
        }
        setTimeout(function(){

        },1000)
        
    }
    /* ------------数据协议解析部分-------------Start  Author:liuxp7*/
    function start(){   
        /*启动 */
            var tempBtn = document.getElementById("start");
            document.getElementById("status").innerHTML = "Now Dishwasher Status：      Start"
        document.getElementById("response").innerHTML = "Response：None";
            
            var url = "/cmd";
			var httpRequest = new XMLHttpRequest();
			httpRequest.open('POST', url, true);
			httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded")

			httpRequest.send('start');
        httpRequest.onreadystatechange = function(){
            //若响应完成且请求成功
            if(httpRequest.readyState === 4 && httpRequest.status === 200){
                document.getElementById("response").innerHTML = "Response：" + httpRequest.responseText;
            }
        }

        setTimeout(function(){
        },1000)
        
    }
    /* ------------数据协议解析部分-------------Start  Author:liuxp7*/
    function pause(){   
        /*暂停 */
            var tempBtn = document.getElementById("pause");
            document.getElementById("status").innerHTML = "Now Dishwasher Status：      Pause"
        document.getElementById("response").innerHTML = "Response：None";
            
            var url = "/cmd";
			var httpRequest = new XMLHttpRequest();
			httpRequest.open('POST', url, true);
			httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded")

			httpRequest.send('pause');
        httpRequest.onreadystatechange = function(){
            //若响应完成且请求成功
            if(httpRequest.readyState === 4 && httpRequest.status === 200){
                document.getElementById("response").innerHTML = "Response：" + httpRequest.responseText;
            }
        }

        setTimeout(function(){
        },1000)
        
    }
    /* ------------数据协议解析部分-------------Start  Author:liuxp7*/
    function cancel(){   
        /*取消 */
            var tempBtn = document.getElementById("cancel");
            document.getElementById("status").innerHTML = "Now Dishwasher Status：      Cancel"
        document.getElementById("response").innerHTML = "Response：None";
            
            var url = "/cmd";
			var httpRequest = new XMLHttpRequest();
			httpRequest.open('POST', url, true);
			httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded")

			httpRequest.send('cancel');
        httpRequest.onreadystatechange = function(){
            //若响应完成且请求成功
            if(httpRequest.readyState === 4 && httpRequest.status === 200){
                document.getElementById("response").innerHTML = "Response：" + httpRequest.responseText;
            }
        }

        setTimeout(function(){
        },1000)
        
    }
    /* ------------数据协议解析部分-------------Start  Author:liuxp7*/
    function heavy(){   
        /*加强洗 */
            var tempBtn = document.getElementById("heavy");
            document.getElementById("status").innerHTML = "Now Dishwasher Status：      Heavy"
        document.getElementById("response").innerHTML = "Response：None";

        var url = "/cmd";
			var httpRequest = new XMLHttpRequest();
			httpRequest.open('POST', url, true);
			httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded")

			httpRequest.send('heavy');
        httpRequest.onreadystatechange = function(){
            //若响应完成且请求成功
            if(httpRequest.readyState === 4 && httpRequest.status === 200){
                document.getElementById("response").innerHTML = "Response：" + httpRequest.responseText;
            }
        }


        setTimeout(function(){
        },1000)
        
    }
    /* ------------数据协议解析部分-------------Start  Author:liuxp7*/
    function normal(){   
        /*普通洗 */
            var tempBtn = document.getElementById("normal");
            document.getElementById("status").innerHTML = "Now Dishwasher Status：      Normal"
        document.getElementById("response").innerHTML = "Response：None";
            
            var url = "/cmd";
			var httpRequest = new XMLHttpRequest();
			httpRequest.open('POST', url, true);
			httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded")

			httpRequest.send('normal');
        httpRequest.onreadystatechange = function(){
            //若响应完成且请求成功
            if(httpRequest.readyState === 4 && httpRequest.status === 200){
                document.getElementById("response").innerHTML = "Response：" + httpRequest.responseText;
            }
        }

        setTimeout(function(){
        },1000)
        
    }
    /* ------------数据协议解析部分-------------Start  Author:liuxp7*/
    function light(){   
        /*ECO节能洗 */
            var tempBtn = document.getElementById("light");
            document.getElementById("status").innerHTML = "Now Dishwasher Status：      Light"
        document.getElementById("response").innerHTML = "Response：None";
			
            var url = "/cmd";
			var httpRequest = new XMLHttpRequest();
			httpRequest.open('POST', url, true);
			httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded")

			httpRequest.send('ls');
        httpRequest.onreadystatechange = function(){
            //若响应完成且请求成功
            if(httpRequest.readyState === 4 && httpRequest.status === 200){
                document.getElementById("response").innerHTML = "Response：" + httpRequest.responseText;
            }
        }
        setTimeout(function(){

        },1000)
        
    }
    /* ------------数据协议解析部分-------------Start  Author:liuxp7*/
    function GetStatus(){   
        var tempBtn = document.getElementById("GetStatus");
        document.getElementById("status").innerHTML = "Now Dishwasher Status：      GetStatus"
        document.getElementById("response").innerHTML = "Response：None";
        
        var url = "/cmd";
        var httpRequest = new XMLHttpRequest();
        httpRequest.open('POST', url, true);
        httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded")

        httpRequest.send('~/apps/chip-tool onoff read on-off 1 1');
        httpRequest.onreadystatechange = function(){
            //若响应完成且请求成功
            if(httpRequest.readyState === 4 && httpRequest.status === 200){
                document.getElementById("response").innerHTML = "Response：" + httpRequest.responseText;
                if ("on" == httpRequest.responseText) {
                    document.getElementById("status").innerHTML = "Now Dishwasher Status：      Power ON"
                } else if ("off" == httpRequest.responseText) {
                    document.getElementById("status").innerHTML = "Now Dishwasher Status：      Power OFF"
                }
            }
        }
    }
    

</script>
<style type="text/css">
.order-context{
    width: 60%;
}
.order-button {
    margin-right: 40px;
    width: 80px;
    height: 80px;
    border-radius: 10px;
    font-size: 15px;
}

.td-width1 {
    width: 100px;
    height: 15px;
}
.td-width2 {
    width: 200px;
    height: 15px;
}
</style>
</html>